# Clean Architecture Demo
Clean architecture demo application with 
- a simple DDD-style domain
- Web-Api with autogenerated Swagger doc
- integration tests 
- and more...

## How to run

1. Make sure Docker Desktop is running on your local machine.
2. Start the containers
    - From Visual Studio (Debug mode): make sure docker-compose is set as startup project, then simply press F5.
    - Or run the following command on terminal at the root of the project: ```docker-compose up -d```
3. In Docker Desktop you will be able to see the containers.

## Technologies
- ✔️ **[`.NET 8`](https://dotnet.microsoft.com/download)** - .NET Framework and .NET Core, including ASP.NET and ASP.NET Core
- ✔️ **[`Swagger & Swagger UI`](https://github.com/domaindrivendev/Swashbuckle.AspNetCore)** - Swagger tools for documenting API's built on ASP.NET Core
- ✔️ **[`Swashbuckle.AspNetCore.Cli`](https://github.com/domaindrivendev/Swashbuckle.AspNetCore)** - Provides a command line interface for retrieving Swagger directly from a startup assembly, and writing to file
- ✔️ **[`EF Core`](https://github.com/dotnet/efcore)** - Modern object-relational mapper for .NET.
- ✔️ **[`MediatR`](https://github.com/jbogard/MediatR)** - Simple, unambitious mediator implementation in .NET.
- ✔️ **[`FluentValidation`](https://github.com/FluentValidation/FluentValidation)** - Popular .NET validation library for building strongly-typed validation rules
- ✔️ **[`Automapper`](https://github.com/AutoMapper/AutoMapper)** - A convention-based object-object mapper.
- ✔️ **[`Ardalis Guard Clauses`](https://github.com/ardalis/GuardClauses)** - A simple extensible package with guard clause extensions.
- ✔️ **[`Serilog`](https://github.com/serilog/serilog)** - Simple .NET logging with fully-structured events
- ✔️ **[`Opentelemetry-dotnet`](https://github.com/open-telemetry/opentelemetry-dotnet)** - The OpenTelemetry .NET Client
- ✔️ **[`xUnit.net`](https://github.com/xunit/xunit)** - A free, open source, community-focused unit testing tool for the .NET Framework.
- ✔️ **[`Respawn`](https://github.com/jbogard/Respawn)** - Respawn is a small utility to help in resetting test databases to a clean state.
- ✔️ **[`Testcontainers`](https://github.com/testcontainers/testcontainers-dotnet)** - Testcontainers for .NET is a library to support tests with throwaway instances of Docker containers.
- ✔️ **[`Fluent Assertions`](https://fluentassertions.com/)** - A set of extension methods that allow you to more naturally specify the expected outcome of a TDD or BDD-style unit test.

## Project References & Credits
- [The ultimate clean architecture template for .NET applications - by A Mantinband](https://github.com/amantinband/clean-architecture)
- [Clean Architecture Template - by Jason Taylor](https://github.com/jasontaylordev/CleanArchitecture)

## Articles / Videos
- [Auto-Regenerating API Client for Your Open API Project](https://techcommunity.microsoft.com/t5/healthcare-and-life-sciences/auto-regenerating-api-client-for-your-open-api-project/ba-p/3302390)
- [The complete guide to unit testing structure best practices](https://www.youtube.com/watch?v=adaQ52DMitE)
- [AutoMapper Usage Guidelines](https://www.jimmybogard.com/automapper-usage-guidelines/)
- [CQRS & MediatR | ASP.NET 6 REST API Following CLEAN ARCHITECTURE & DDD Tutorial | Part 6](https://www.youtube.com/watch?v=MwMVvLBSJa8)
- [5 Amazing Use Cases for MediatR Pipelines - Cross-Cutting Concerns](https://www.youtube.com/watch?v=Iql4yjHYRiA)
- [Validation Behavior | MediatR + FluentValidation | CLEAN ARCHITECTURE & DDD Tutorial | Part 8](https://www.youtube.com/watch?v=FXP3PQ03fa0)
- [Use These 4 Best Practices For Your .NET Project Setup](https://www.youtube.com/watch?v=B9ZUJN1Juhk)
- [ASP.NET 6 REST API Following CLEAN ARCHITECTURE & DDD Tutorial - by Amichai Mantinband (full series of videos)](https://www.youtube.com/watch?v=fhM0V2N1GpY&list=PLzYkqgWkHPKBcDIP5gzLfASkQyTdy0t4k)
- [Domain-Driven Design - by Amichai Mantinband (series of videos)](https://www.youtube.com/watch?v=8Z5IAkWcnIw&list=PLzYkqgWkHPKDpXETRRsFv2F9ht6XdAF3v)

## Adding a EF Core migration

Add-Migration [MigrationName] -OutputDir Persistence/Migrations

## Temporary Sample login
{
  "email": "admin@argo-ca.com",
  "password": "Admin1!"
}

## TODO

- Fake bearer token in integration tests
- Remove FakeCurrentUserProvider
